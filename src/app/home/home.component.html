<app-header></app-header>
<main class="container mt-5 pt-5">
    <div class="container text-center mt-4">
        <form [formGroup]="searchForm" class="mb-3">
        <div class="row">
            <div class="col-md-4">
                <input class="form-control mt-2 mb-2" type="text" formControlName="title"  placeholder="Search by title" /> 
            </div>
            <div class="col-md-4">
                <input class="form-control mt-2 mb-2" type="text" formControlName="author" placeholder="Search by author" /> 
            </div>
            <div class="col-md-4">
                <input class="form-control mt-2 mb-2" type="number" formControlName="isbn"  placeholder="Search by ISBN" /> 
            </div>
          
            <div class="col-md-4">
                <input class="form-control mt-2 mb-2" type="text" formControlName="publisher" placeholder="Search by publisher" /> 
            </div>
            <div class="col-auto pt-2">
                <button type="button" class="btn btn-outline-dark" (click)="search()">search</button>
            </div>
        </div>
        </form>
        <table class="table table-striped table-bordered table-sm row-border hover " id="">
          <thead class="table-dark">
            <tr>
              <th><a (click)="sortBy('id')">Id {{sortIcon('id')}}</a></th>
              <th><a (click)="sortBy('title')">Title {{sortIcon('title')}}</a></th>
              <th><a (click)="sortBy('isbn')">Isbn {{sortIcon('isbn')}}</a></th>
              <th><a (click)="sortBy('author')">Author {{sortIcon('author')}}</a></th>
              <th><a (click)="sortBy('publisher')">Publisher {{sortIcon('publisher')}}</a></th>
              <th>Published</th>
              <th><a (click)="sortBy('genre')">Genre {{sortIcon('genre')}}</a></th>
              </tr>
          </thead>
          <tbody>
              
                  <tr *ngFor="let el of dataSource; let i = index">
                      <td>{{el.id}}</td>
                      <td><a routerLink="/book-detail/{{el.id}}">{{el.title}}</a></td>
                      <td>{{el.isbn}}</td>
                      <td>{{el.author}}</td>
                      <td>{{el.publisher}}</td>
                      <td>{{el.published}}</td>
                      <td>{{el.genre}}</td>
                  </tr>
          </tbody>
        </table>
        <app-pagination
            [currentPage]="currentPage"
            [totalPages]="totalPages"
            (pageChange)="loadData($event)"
         class="d-flex flex-column align-items-end"></app-pagination>
        </div>
  </main>
